{% extends 'admin-template.html.twig' %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{asset('assets/css/datatables/datatables.min.css')}}">
    <link rel="stylesheet" href="{{ asset('assets/css/datatables/tables-style.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/css/edit-agent.css') }}">
    
{% endblock %}

{% block main %}
    
            {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}
            <div class="search" style="position: relative !important;" style="position: relative !important;">
                {{ form_row(form.nom,{
                    'attr':{
                        'class': 'input',
                        'style': 'width: 80% !important;border-top: none !important;border-left: none !important;box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;'
                    }
                }) }}
            </div>
            <div class="search" style="position: relative !important;">
                    {{ form_row(form.prenom,{
                    'attr':{
                        'class': 'input',
                        'style': 'width: 80% !important;border-top: none !important;border-left: none !important;box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;'
                    }
                }) }}
            </div>
            <div class="search" style="position: relative !important;">
                        {{ form_row(form.matricule,{
                        'attr':{
                            'class': 'input',
                            'style': 'width: 80% !important;border-top: none !important;border-left: none !important;box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;'
                        }
                    }) }}
            </div>
            <div class="search" style="position: relative !important;">
                        {{ form_row(form.civilite,{
                        'attr':{
                            'class': 'input',
                            'style': 'width: 80% !important;border-top: none !important;border-left: none !important;box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;'
                        }
                    }) }}
            </div>
            <div class="search" style="position: relative !important;">
                        {{ form_row(form.structure,{
                        'attr':{
                            'class': 'input',
                            'style': 'width: 80% !important;border-top: none !important;border-left: none !important;box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;'
                        }
                    }) }}
            </div>
            <div class="search" style="position: relative !important;">
                        {{ form_row(form.emploi,{
                        'attr':{
                            'class': 'input',
                            'style': 'width: 80% !important;border-top: none !important;border-left: none !important;box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;'
                        }
                    }) }}
            </div>
            {{ form_label(form.service, 'Service', {
            'label_attr': {
                'class': 'label',
            }
            }) }}</br>
            {{ form_widget(form.service,{'attr':{'style': 'width: 80% !important;border-top: none !important;border-left: none !important;box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;'}}) }}</br></br>

            {{ form_label(form.direction, 'Direction', {
            'label_attr': {
                'class': 'label',
            }
            }) }}</br>
            {{ form_widget(form.direction,{'attr':{'style': 'width: 80% !important;border-top: none !important;border-left: none !important;box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;'}}) }}</br></br>

            {{ form_label(form.sousdirection, 'Sous-direction', {
            'label_attr': {
                'class': 'label',
            }
            }) }}</br>
            {{ form_widget(form.sousdirection,{'attr':{'style': 'width: 80% !important;border-top: none !important;border-left: none !important;box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;'}}) }}</br></br>
            {% set currentDate = "now"|date("d/m/Y") %}
            <div class="search" style="position: relative !important;">
                        {{ form_row(form.datenaiss, {
                        'attr': {
                            'class': 'input',
                            'style': 'width: 80% !important;border-top: none !important;border-left: none !important;box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;',
                            'value': currentDate
                        }
                    }) }}
            </div>
            <div class="search" style="position: relative !important;">
                        {{ form_row(form.lieunaiss,{
                        'attr':{
                            'class': 'input',
                            'style': 'width: 80% !important;border-top: none !important;border-left: none !important;box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;'
                        }
                    }) }}
            </div>
            <div class="search" style="position: relative !important;">
                        {{ form_row(form.nompere,{
                        'attr':{
                            'class': 'input',
                            'style': 'width: 80% !important;border-top: none !important;border-left: none !important;box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;'
                        }
                    }) }}
            </div>
            <div class="search" style="position: relative !important;">
                        {{ form_row(form.nommere,{
                        'attr':{
                            'class': 'input',
                            'style': 'width: 80% !important;border-top: none !important;border-left: none !important;box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;'
                        }
                    }) }}
            </div>
            <div class="search" style="position: relative !important;">
                        {{ form_row(form.nbreenfant,{
                        'attr':{
                            'class': 'input',
                            'style': 'width: 80% !important;border-top: none !important;border-left: none !important;box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;'
                        }
                    }) }}
            </div>
            <div class="search" style="position: relative !important;">
                        {{ form_row(form.grade,{
                        'attr':{
                            'class': 'input',
                            'style': 'width: 80% !important;border-top: none !important;border-left: none !important;box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;'
                        }
                    }) }}
            </div>
            <div class="search" style="position: relative !important;">
                        {{ form_row(form.sexe,{
                        'attr':{
                            'class': 'input',
                            'style': 'width: 80% !important;border-top: none !important;border-left: none !important;box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;'
                        }
                    }) }}
            </div>
            <div class="search" style="position: relative !important;">
                        {{ form_row(form.telephone,{
                        'attr':{
                            'class': 'input',
                            'style': 'width: 80% !important;border-top: none !important;border-left: none !important;box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;'
                        }
                    }) }}
            </div>
            <div class="search" style="position: relative !important;">
                        {{ form_row(form.photo,{
                        'attr':{
                            'class': 'input',
                            'style': 'width: 80% !important;border-top: none !important;border-left: none !important;box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;'
                        }
                    }) }}
            </div>
            {{ form_row(form.editer, {'attr': {'class': 'orange-button'}}) }}
            {{ form_end(form) }}
        
        
{% endblock %}

{% block javascripts %}
    <script>
        function handleDelete() {
        event.preventDefault();
        if (confirm('Êtes-vous sûr de vouloir supprimer ?')) {
            console.log('Submitting delete form...');
            var selectedPersonnes = Array.from(personneCheckboxes)
                .filter(function(checkbox) {
                    return checkbox.checked;
                })
                .map(function(checkbox) {
                    return checkbox.value;
                });

            var deleteForm = document.getElementById('delete-form');
            deleteForm.querySelector('input[name="personnes"]').value = JSON.stringify(selectedPersonnes);
            deleteForm.submit();
        }
    }
    function showModal(elementId) {
      const modal = document.getElementById('newmodal');
      modal.style.display = 'block';
  
      }
      function closeModal(elementId) {
      const modal = document.getElementById('newmodal');
      modal.style.display = 'none';
    
    }
    </script>
    <script src="{{ asset('assets/js/datatables/datatables.min.js') }}"></script>
    <script src="{{ asset('assets/js/datatables/datatables.bootstrap5.min.js') }}"></script>
    <script src="{{ asset('assets/js/datatables/init.js') }}"></script>
    <script src="{{asset('assets/js/newmodal.js')}}"></script>
{% endblock %}
