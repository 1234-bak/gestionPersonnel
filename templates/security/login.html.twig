{% extends 'form-template.html.twig' %}

{% block title %}Log in !{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('assets/css/login.css') }}">

{% endblock %}

{% block main %}
<div class="modal vh-100" style="background-repeat: no-repeat; background-position: right top; background-attachement: fixed; background-image: url('{{asset('assets/asset/img/entreemfp.jpg')}}'); background-size: cover">
    <div class="modal-content">
        <form method="post">
            {# {% if error %}
                <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
            {% endif %} #}

            {% if app.user %}
                <div class="mb-3 notice">
                    Vous Ãªtes inscrit avec le compte <span class="matricule">{{ app.user.userIdentifier }},</span> <a class="deconnexion" href="{{ path('app_logout') }}">Deconnexion</a>
                </div>
            {% endif %}

            <h1 class="titre mb-3 font-weight-bold text-center">Connectez-vous</h1>
            <div class="search">
                <label for="inputMatricule">Matricule</label>
                <i class="fas fa-envelope"></i>
                <input type="text" value="{{ last_username }}" name="matricule" id="inputMatricule" class="form-control" autocomplete="matricule" required autofocus placeholder="000000A">
            
            </div>
            <div class="search">
                <label for="inputPassword">Mot de passe</label>
                <i class="fas fa-lock"></i>
                <input type="password" name="password" id="inputPassword" class="form-control" autocomplete="current-password" required>
            
            </div>
            {# <div class="search">
                <i class="fas fa-lock"></i>
                <input class="input" type="hidden" name="_csrf_token"
                value="{{ csrf_token('authenticate')}}">
            
            </div> #}
            <input type="hidden" name="_csrf_token"
                value="{{ csrf_token('authenticate') }}"
            >

        {#     
                Uncomment this section and add a remember_me option below your firewall to activate remember me functionality.
                See https://symfony.com/doc/current/security/remember_me.html #}


                {# <div class="checkbox mb-3">
                    <label>
                        <input type="checkbox" name="_remember_me"> Remember me
                    </label>
                </div>  #}

            <button class="btn mt-2" type="submit">
                Se connecter
            </button>
        </form>
        <p class="mt-2 text-light">Pas de compte ? <a href="{{path('app_register')}}" style="margin-top:5px; color:orange; font-weight:bold;"><span>S'inscrire</span></a></p>
    </div>
</div>
{% endblock %}
